# Project Planner - Quick Reference Commands

## SSH Connection
ssh -i naii-project-planning-app-key.pem ubuntu@172.28.3.20

## Service Management
# Restart services
sudo systemctl restart fastapi
sudo systemctl restart nginx

# Check service status
sudo systemctl status fastapi --no-pager
sudo systemctl status nginx --no-pager

# View service logs
sudo journalctl -u fastapi -n 50 --no-pager
sudo journalctl -u nginx -n 50 --no-pager

## Nginx Management
# Test nginx configuration
sudo nginx -t

# Reload nginx (after config changes)
sudo systemctl reload nginx

# View nginx logs
sudo tail -n 50 /var/log/nginx/error.log
sudo tail -n 50 /var/log/nginx/access.log

# View fastapi logs
sudo systemctl status fastapi --no-pager
sudo journalctl -u fastapi -n 50 --no-pager

## API Testing
# Test frontend
curl -I http://localhost/

# Test API endpoints
curl http://localhost/api/health
curl http://localhost/api/projects

# Test backend directly (bypass nginx)
curl http://localhost:8000/health

## Network Diagnostics
# Check what's listening on port 8000
sudo ss -tlnp | grep :8000

# Ping server
ping -c 4 54.226.226.2

## Deployment Updates
# Pull latest code and redeploy
git pull origin main
./deploy/build_frontend.sh
sudo systemctl restart fastapi
sudo systemctl reload nginx

# Copy .env credentials
scp -i naii-project-planning-app-key.pem .env ubuntu@54.226.226.2:/home/ubuntu/project-planner-agent-system